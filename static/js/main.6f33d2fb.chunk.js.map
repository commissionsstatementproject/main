{"version":3,"sources":["models/sheetHelper.js","models/Sheet.js","App/Report/Report.js","App/App.js","index.js"],"names":["columnIndices","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","Sheet","fileReaderResult","Object","classCallCheck","this","_sheet","CSV","cellString","console","log","letter","replace","toLowerCase","number","columnIndex","rowIndex","parseInt","sanitizedLetter","map","row","Report","props","csvString","name","react_default","createElement","onClick","sheet","quarter","getCell","nameIndex","getColumn","findIndex","nameInCell","rowNumber","variableTarget","concat","value4","value5","value6","value7","value8","value9","value10","value11","value12","value13","doc","jsPDF","setFontSize","text","mainText","push","autoTable","theme","margin","top","head","body","save","handleClick","App","_React$useState","React","useState","_React$useState2","slicedToArray","setCsvString","_React$useState3","_React$useState4","salespersonName","setSalespersonName","_React$useState5","_React$useState6","file","setFile","Fragment","onSubmit","event","preventDefault","size","alert","reader","FileReader","onload","result","readAsText","type","accept","onChange","target","files","placeholder","value","Report_Report","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.6f33d2fb.chunk.js","sourcesContent":["export const columnIndices = {\n  a: 0,\n  b: 1,\n  c: 2,\n  d: 3,\n  e: 4,\n  f: 5,\n  g: 6,\n  h: 7,\n  i: 8,\n  j: 9,\n  k: 10,\n  l: 11,\n  m: 12,\n  n: 13,\n  o: 14,\n  p: 15,\n  q: 16,\n  r: 17,\n  s: 18,\n  t: 19,\n  u: 20,\n  v: 21,\n  w: 22,\n  x: 23,\n  y: 24,\n  z: 25\n};\n","import { columnIndices } from \"./sheetHelper\";\nimport * as CSV from \"csv-string\";\n\nclass Sheet {\n  constructor(fileReaderResult) {\n    this._sheet = CSV.parse(fileReaderResult);\n  }\n\n  getCell(cellString) {\n    console.log(cellString);\n\n    const letter = cellString.replace(/[^A-Za-z]/g, \"\").toLowerCase();\n    const number = cellString.replace(/[^0-9]/g, \"\");\n\n    const columnIndex = columnIndices[letter];\n    const rowIndex = parseInt(number) - 1;\n\n    return this._sheet[rowIndex][columnIndex];\n  }\n\n  getColumn(letter) {\n    const sanitizedLetter = letter.replace(/[^A-Za-z]/g, \"\").toLowerCase();\n    const columnIndex = columnIndices[sanitizedLetter];\n    return this._sheet.map(row => row[columnIndex]);\n  }\n\n  // parse() {\n  //   return {\n  //     quarter: this.getCell(\"E1\"),\n\n  //   };\n  // }\n}\n\nexport default Sheet;\n","import React from \"react\";\nimport Sheet from \"../../models/Sheet\";\nimport * as jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\n\nfunction handleClick(csvString, name) {\n  const sheet = new Sheet(csvString);\n  const quarter = sheet.getCell(\"E1\");\n  const namesColumn = sheet.getColumn(\"B\");\n\n  const nameIndex = namesColumn.findIndex(nameInCell => {\n    return nameInCell === name;\n  });\n  const rowNumber = parseInt(nameIndex) + 1;\n\n  const variableTarget = sheet.getCell(`D${rowNumber}`);\n  const value4 = sheet.getCell(`E${rowNumber}`);\n  const value5 = sheet.getCell(`O${rowNumber}`);\n  const value6 = sheet.getCell(`U${rowNumber}`);\n  const value7 = sheet.getCell(`F${rowNumber}`);\n  const value8 = sheet.getCell(`P${rowNumber}`);\n  const value9 = sheet.getCell(`V${rowNumber}`);\n  const value10 = sheet.getCell(`G${rowNumber}`);\n  const value11 = sheet.getCell(`Q${rowNumber}`);\n  const value12 = sheet.getCell(`W${rowNumber}`);\n  const value13 = sheet.getCell(`X${rowNumber}`);\n\n  const doc = new jsPDF();\n\n  doc.setFontSize(22);\n  doc.text(20, 20, \"This is a demo!\");\n\n  doc.setFontSize(16);\n  const mainText = [];\n  mainText.push(`A sales person with this name was found on row ${rowNumber}`);\n  mainText.push(`Quarter: ${quarter}.`);\n  mainText.push(`The demand team member's name is \"${name}\".`);\n  mainText.push(`Their variable target is: \"${variableTarget}\".`);\n  mainText.push(\"Here is the table:\");\n  doc.text(20, 30, mainText);\n\n  doc.autoTable({\n    theme: \"plain\",\n    margin: { top: 70 },\n    head: [\n      [\n        \"Component\",\n        \"Component Target Compensation\",\n        \"Component Achievement Level\",\n        \"Payout Amount\"\n      ]\n    ],\n    body: [\n      [\"Country/Team\", value4, value5, value6],\n      [\"Individual Revenue\", value7, value8, value9],\n      [\"Individual Sales\", value10, value11, value12]\n    ]\n  });\n\n  doc.text(20, 130, `The total gross discretionary pay is ${value13}.`);\n\n  doc.save(\"statement.pdf\");\n}\n\nfunction Report(props) {\n  const { csvString, name } = props;\n\n  if (csvString === \"\") {\n    return null;\n  } else {\n    return (\n      <button onClick={() => handleClick(csvString, name)}>\n        Save generated PDF\n      </button>\n    );\n  }\n}\n\nexport default Report;\n","import React from \"react\";\nimport Report from \"./Report/Report\";\n\nfunction App() {\n  const [csvString, setCsvString] = React.useState(\"\");\n  const [salespersonName, setSalespersonName] = React.useState(\"\");\n  const [file, setFile] = React.useState(null);\n\n  function openFile(event) {\n    event.preventDefault();\n\n    if (!file) {\n      return;\n    } else if (file.size > 500000) {\n      alert(\"This file is HUGE! What are you trying to upload?\");\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.onload = function() {\n      setCsvString(reader.result);\n    };\n    reader.readAsText(file);\n  }\n\n  return (\n    <React.Fragment>\n      <form onSubmit={openFile}>\n        <input\n          type=\"file\"\n          accept=\".csv\"\n          onChange={event => setFile(event.target.files[0])}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"salesperson name\"\n          onChange={event => setSalespersonName(event.target.value)}\n          value={salespersonName}\n        />\n        <input type=\"submit\" value=\"Generate Statement\" />\n      </form>\n\n      <Report csvString={csvString} name={salespersonName} />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}